<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
layout:decorator="layout">

<head>
	<title>Product</title>
	<title>Supplier</title>
	<meta http-equiv="Content-Type" content="application/json; charset=UTF-8" />
	<meta name="_csrf" content="${_csrf.token}"></meta>
	<meta name="_csrf_header" content="${_csrf.headerName}"></meta>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	
	<script type="text/javascript">
		var csrf_token = "${session.sessionId}";//'lksdhgkghvsvkshvbkvblnbm n,m nio;lb'; //session token created after successful login and send back to this form
	
		$("body").bind("ajax", function(elm, xhr, s){
			if (s.type == "POST") {
				xhr.setRequestHeader('X-CSRF-Token', csrf_token);
				xhr.setRequestHeader("Content-Type", "application/json");
				xhr.setRequestHeader("Accept", "application/json");
			}
		});
	
		function madeAjaxCall(){
			//var formData = $("form.form").serializeObject();
			var json = "{"key" : "value"}";
			var jsonData = JSON.stringify(json);
			alert(jsonData);

			$.ajax({
				type: "POST",
				url: 'http://localhost:8080/in/supplier/data',
				contentType: 'application/json',
				dataType: 'json',
				//cache: false,    
		
				data: jsonData,
				processData: false,
		
				success: function(result,status,xhr){
				//alert(result,status,xhr);
			},
			error: function(xhr,status,error) {
				//alert(xhr.error(),status,error);
			},
		 	});
		}
	</script>	
</head>

<body class="homepage">
    <section layout:fragment="slider" th:remove="tag">
      <div th:replace="fragments/products :: products"></div>
    </section>
</body>
</html>